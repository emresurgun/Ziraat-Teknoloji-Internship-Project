{"ast":null,"code":"var _jsxFileName = \"/Users/emresurgun/frontend/src/Pages/LoginPage.js\",\n  _s = $RefreshSig$();\nimport { jwtDecode } from \"jwt-decode\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginPage() {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = async () => {\n    if (!username.trim()) {\n      setError(\"Username cannot be empty.\");\n      return;\n    }\n    if (!password.trim()) {\n      setError(\"Password cannot be empty.\");\n      return;\n    }\n    try {\n      setError(\"\");\n      const res = await fetch(\"http://localhost:5268/api/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.message || \"Login failed\");\n      if (!data.token || typeof data.token !== \"string\") {\n        setError(\"Invalid token received from server.\");\n        return;\n      }\n      localStorage.setItem(\"token\", data.token);\n      const decoded = jwtDecode(data.token);\n      const role = decoded[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"];\n      if (role === \"Admin\") {\n        navigate(\"/admin\");\n      } else {\n        navigate(\"/products\");\n      }\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      height: \"100vh\",\n      fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n      backgroundColor: \"#f5f7fa\",\n      padding: \"20px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        backgroundColor: \"#fff\",\n        padding: \"30px 40px\",\n        borderRadius: \"8px\",\n        boxShadow: \"0 4px 8px rgba(0,0,0,0.1)\",\n        minWidth: \"320px\",\n        maxWidth: \"400px\",\n        width: \"100%\"\n      },\n      onSubmit: e => {\n        e.preventDefault();\n        handleLogin();\n      },\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\",\n          marginBottom: \"20px\"\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        style: {\n          display: \"block\",\n          marginBottom: \"8px\",\n          fontWeight: \"600\",\n          fontSize: \"14px\",\n          color: \"#333\"\n        },\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"username\",\n        type: \"text\",\n        placeholder: \"Enter your username\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        style: {\n          width: \"100%\",\n          padding: \"10px 12px\",\n          marginBottom: \"20px\",\n          borderRadius: \"4px\",\n          border: \"1px solid #ccc\",\n          fontSize: \"16px\",\n          boxSizing: \"border-box\"\n        },\n        required: true,\n        autoComplete: \"username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        style: {\n          display: \"block\",\n          marginBottom: \"8px\",\n          fontWeight: \"600\",\n          fontSize: \"14px\",\n          color: \"#333\"\n        },\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"password\",\n        type: \"password\",\n        placeholder: \"Enter your password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        style: {\n          width: \"100%\",\n          padding: \"10px 12px\",\n          marginBottom: \"20px\",\n          borderRadius: \"4px\",\n          border: \"1px solid #ccc\",\n          fontSize: \"16px\",\n          boxSizing: \"border-box\"\n        },\n        required: true,\n        autoComplete: \"current-password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\",\n          marginTop: \"-15px\",\n          marginBottom: \"20px\",\n          fontSize: \"14px\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          width: \"100%\",\n          padding: \"12px\",\n          fontSize: \"16px\",\n          borderRadius: \"4px\",\n          border: \"none\",\n          backgroundColor: \"#007bff\",\n          color: \"#fff\",\n          fontWeight: \"600\",\n          cursor: \"pointer\"\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        style: {\n          width: \"100%\",\n          padding: \"12px\",\n          fontSize: \"16px\",\n          borderRadius: \"4px\",\n          border: \"none\",\n          backgroundColor: \"#6c757d\",\n          color: \"#fff\",\n          fontWeight: \"600\",\n          cursor: \"pointer\",\n          marginTop: \"10px\"\n        },\n        onClick: () => navigate(\"/register\"),\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginPage, \"8wQ/bzn6fk6ET8DFaTQ4y53Fx+Q=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["jwtDecode","useState","useNavigate","jsxDEV","_jsxDEV","LoginPage","_s","username","setUsername","password","setPassword","error","setError","navigate","handleLogin","trim","res","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","message","token","localStorage","setItem","decoded","role","err","style","display","flexDirection","alignItems","justifyContent","height","fontFamily","backgroundColor","padding","children","borderRadius","boxShadow","minWidth","maxWidth","width","onSubmit","e","preventDefault","noValidate","textAlign","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","fontWeight","fontSize","color","id","type","placeholder","value","onChange","target","border","boxSizing","required","autoComplete","marginTop","cursor","onClick","_c","$RefreshReg$"],"sources":["/Users/emresurgun/frontend/src/Pages/LoginPage.js"],"sourcesContent":["import { jwtDecode } from \"jwt-decode\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction LoginPage() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  const handleLogin = async () => {\n    if (!username.trim()) {\n      setError(\"Username cannot be empty.\");\n      return;\n    }\n    if (!password.trim()) {\n      setError(\"Password cannot be empty.\");\n      return;\n    }\n\n    try {\n      setError(\"\");\n      const res = await fetch(\"http://localhost:5268/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ username, password }),\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) throw new Error(data.message || \"Login failed\");\n\n      if (!data.token || typeof data.token !== \"string\") {\n        setError(\"Invalid token received from server.\");\n        return;\n      }\n\n      localStorage.setItem(\"token\", data.token);\n\n      const decoded = jwtDecode(data.token);\n      const role = decoded[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"];\n\n      if (role === \"Admin\") {\n        navigate(\"/admin\");\n      } else {\n        navigate(\"/products\");\n      }\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div style={{\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      height: \"100vh\",\n      fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n      backgroundColor: \"#f5f7fa\",\n      padding: \"20px\",\n    }}>\n      <form\n        style={{\n          backgroundColor: \"#fff\",\n          padding: \"30px 40px\",\n          borderRadius: \"8px\",\n          boxShadow: \"0 4px 8px rgba(0,0,0,0.1)\",\n          minWidth: \"320px\",\n          maxWidth: \"400px\",\n          width: \"100%\",\n        }}\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleLogin();\n        }}\n        noValidate\n      >\n        <h2 style={{ textAlign: \"center\", marginBottom: \"20px\" }}>Login</h2>\n\n        <label htmlFor=\"username\" style={{ display: \"block\", marginBottom: \"8px\", fontWeight: \"600\", fontSize: \"14px\", color: \"#333\" }}>\n          Username\n        </label>\n        <input\n          id=\"username\"\n          type=\"text\"\n          placeholder=\"Enter your username\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          style={{ width: \"100%\", padding: \"10px 12px\", marginBottom: \"20px\", borderRadius: \"4px\", border: \"1px solid #ccc\", fontSize: \"16px\", boxSizing: \"border-box\" }}\n          required\n          autoComplete=\"username\"\n        />\n\n        <label htmlFor=\"password\" style={{ display: \"block\", marginBottom: \"8px\", fontWeight: \"600\", fontSize: \"14px\", color: \"#333\" }}>\n          Password\n        </label>\n        <input\n          id=\"password\"\n          type=\"password\"\n          placeholder=\"Enter your password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          style={{ width: \"100%\", padding: \"10px 12px\", marginBottom: \"20px\", borderRadius: \"4px\", border: \"1px solid #ccc\", fontSize: \"16px\", boxSizing: \"border-box\" }}\n          required\n          autoComplete=\"current-password\"\n        />\n\n        {error && <p style={{ color: \"red\", marginTop: \"-15px\", marginBottom: \"20px\", fontSize: \"14px\" }}>{error}</p>}\n\n        <button type=\"submit\" style={{\n          width: \"100%\",\n          padding: \"12px\",\n          fontSize: \"16px\",\n          borderRadius: \"4px\",\n          border: \"none\",\n          backgroundColor: \"#007bff\",\n          color: \"#fff\",\n          fontWeight: \"600\",\n          cursor: \"pointer\",\n        }}>\n          Login\n        </button>\n\n        <button\n          type=\"button\"\n          style={{\n            width: \"100%\",\n            padding: \"12px\",\n            fontSize: \"16px\",\n            borderRadius: \"4px\",\n            border: \"none\",\n            backgroundColor: \"#6c757d\",\n            color: \"#fff\",\n            fontWeight: \"600\",\n            cursor: \"pointer\",\n            marginTop: \"10px\",\n          }}\n          onClick={() => navigate(\"/register\")}\n        >\n          Register\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}